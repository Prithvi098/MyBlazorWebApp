@page "/home"
@using Microsoft.AspNetCore.Authentication.Cookies
@attribute [Authorize]
@layout MainLayout
@inject IHttpClientFactory ClientFactory
@inject NavigationManager NavigationManager
@inject AuthenticationStateProvider AuthenticationStateProvider
@inject ToastService ToastService
@rendermode InteractiveServer

<PageTitle>Home</PageTitle>
<section class="content">
    <div class="content-header">
        <div class="container-fluid p-0">
            <div class="row">
                <div class="col-6 col-lg-6">
					<div class="main-title">
                        <h2 class="m-0">Dashboard</h2>
                    </div>
                </div>
                <div class="col-6 col-lg-6">
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid p-0">
        <AuthorizeView>
            <Authorized>
                <h1>Hello, @context.User.Identity?.Name!</h1>
                <p>Welcome to your new app.</p>

                <button class="btn btn-sm btn-success" @onclick="ShowSuccess">Show Success</button>
                <button class="btn btn-sm btn-warning" @onclick="ShowWarning">Show Warning</button>
                <button class="btn btn-sm btn-danger" @onclick="ShowError">Show Danger</button>

            </Authorized>
            <NotAuthorized>
                <p>You are not authorized. Please log in.</p>
            </NotAuthorized>
        </AuthorizeView>
    </div>
</section>


@code {
    void ShowSuccess()
    {
        ToastService.ShowToast("Operation completed successfully!", "success", "Success");
    }

    void ShowWarning()
    {
        ToastService.ShowToast("This action might have consequences.", "warning", "Warning");
    }

    void ShowError()
    {
        ToastService.ShowToast("Something went wrong!", "error", "Error");
    }


}